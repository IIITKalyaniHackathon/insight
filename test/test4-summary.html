<!DOCTYPE html>
<html>
  <head>

    <!--
    THIS IS A TEST.

    IT SHOULD SHOW A GOOGLE MAPS AND A SUMMARY ON THE INFOWINDOW.

    -->

    <title>Test 4 - Info Window w/ Summary</title>

    <style>
      html,
      body {
        margin: 0;
        width: 100%;
        height: 100%;
      }
      #dashboard {
        width: 100%;
        height: 100%;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="../CityDashboard.css">
    <link rel="stylesheet" type="text/css" href="css/chartist.min.css">
    
    <script src="js/chartist.min.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="//maps.googleapis.com/maps/api/js?v="></script>

    <script src="js/CityDashboard.min.js"></script>

  </head>

  <body><div id="dashboard"></div></body>

  <script>
    // Setting up our map.
    var map = new CityDashboard.GoogleMap({
      'lat': -33.442909,
      'lng': -70.65387,
      'zoom': 12
    });

    // Setting up our information window.
    var infoWindow = new CityDashboard.InfoWindow([{
      'visualization': 'summary-viz',
      'data-source': '#myMarker',
      'id': '#summary',
      'title': 'My Marker Summary'
      // 'properties': {
        
      // }
    },{
      'visualization': 'summary-viz',
      'id': '#egocentric-viz',
      'data-source': '#egocentric-viz',
      'data': {'greeting':'hello!', 'My Name': 'I m a visualization'},
      'title': 'Egocentric Summary'
    },{
      'visualization': 'barchart-viz',
      'id': '#mybarchart',
      'data-source': '#mybarchart',
      'data': {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        series: [
          [5, 4, 3, 7, 5, 10, 3, 4, 8, 10, 6, 8],
          [3, 2, 9, 5, 4, 6, 4, 6, 7, 8, 7, 4]
        ]
      },
      'title': 'Bars',
      'properties': {
        'class': 'ct-chart',
        options: {
          seriesBarDistance: 10
        },
        responsiveOptions: [
          ['screen and (max-width: 640px)', {
            seriesBarDistance: 5,
            axisX: {
              labelInterpolationFnc: function (value) {
                return value[0];
              }
            }
          }]
        ]
      }
    },{
      'visualization': 'piechart-viz',
      'id': '#piechart-viz',
      'data-source': '#piechart-viz',
      'data': {
        labels: ['Bananas', 'Apples', 'Grapes'],
        series: [20, 15, 40]
      },
      'title': 'A delicious pie... chart.',
      'properties': {
        'class': 'ct-chart',
        options: {
          labelInterpolationFnc: function(value) {
            return value[0]
          }
        },
        responsiveOptions: [
          ['screen and (min-width: 640px)', {
            chartPadding: 30,
            labelOffset: 100,
            labelDirection: 'explode',
            labelInterpolationFnc: function(value) {
              return value;
            }
          }],
          ['screen and (min-width: 1024px)', {
            labelOffset: 80,
            chartPadding: 20
          }]
        ]
      }
    },{
      'visualization': 'linechart-viz',
      'id': '#myline-viz',
      'data-source': '#myline-viz',
      'data': {
        labels: ['1', '2', '3', '4', '5', '6'],
        series: [
          {
            data: [1, 2, 3, 5, 8, 13]
          }
        ]
      },
      'title': 'A line chart.',
      'properties':{
        'class': 'ct-chart ct-golden-section',
        responsiveOptions: [
          ['screen and (min-width: 641px) and (max-width: 1024px)', {
            showPoint: false,
            axisX: {
              labelInterpolationFnc: function(value) {
                return 'Week ' + value;
              }
            }
          }],
          ['screen and (max-width: 640px)', {
            showLine: false,
            axisX: {
              labelInterpolationFnc: function(value) {
                return 'W' + value;
              }
            }
          }]],
        responsiveOptions: [
          ['screen and (min-width: 641px) and (max-width: 1024px)', {
            showPoint: false,
            axisX: {
              labelInterpolationFnc: function(value) {
                return 'Week ' + value;
              }
            }
          }],
          ['screen and (max-width: 640px)', {
            showLine: false,
            axisX: {
              labelInterpolationFnc: function(value) {
                return 'W' + value;
              }
            }
          }]]
      }
    }]);

    // Binding the map and the information window.
    var myDashboard = new CityDashboard.Dashboard({
      'anchor': '#dashboard',
      'map': map,
      'info': infoWindow,
      'layout': 'left'
    });

    // Show the Dashboard
    myDashboard.show();
  </script>
</html>
